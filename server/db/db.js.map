{"version":3,"sources":["../../../server/db/db.js"],"names":["mongoose","require","config","__dirname","connect","mongodb","useMongoClient","Promise","global","db","connection","on","console","error","bind","once","log","userSchema","Schema","phone","String","password","recheck","token","create_time","Date","model","User","module","exports"],"mappings":";;AAAA;;;AAGA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,SAASD,QAAQ,aAAR,EAAuBE,SAAvB,CAAf;;AAEAH,SAASI,OAAT,CAAiBF,OAAOG,OAAxB,EAAiC,EAAEC,gBAAgB,IAAlB,EAAjC;AACAN,SAASO,OAAT,GAAmBC,OAAOD,OAA1B;AACA,IAAIE,KAAKT,SAASU,UAAlB;AACAD,GAAGE,EAAH,CAAM,OAAN,EAAeC,QAAQC,KAAR,CAAcC,IAAd,CAAmBF,OAAnB,EAA4B,eAA5B,CAAf;AACAH,GAAGM,IAAH,CAAQ,MAAR,EAAgB,YAAY;AAC1BH,UAAQI,GAAR,CAAY,8BAAZ;AACD,CAFD;;AAIA,IAAIC,aAAajB,SAASkB,MAAT,CAAgB;AAC/BC,SAAOC,MADwB;AAE/BC,YAAUD,MAFqB;AAG/BE,WAASF,MAHsB;AAI/BG,SAAOH,MAJwB;AAK/BI,eAAaC;AALkB,CAAhB,CAAjB;;AAQA,IAAIC,QAAQ;AACVC,QAAM3B,SAAS0B,KAAT,CAAe,MAAf,EAAuBT,UAAvB;AADI,CAAZ;;AAIAW,OAAOC,OAAP,GAAiBH,KAAjB","file":"db.js","sourcesContent":["/**\n *Created by admin on 2018/1/15\n */\nconst mongoose = require('mongoose')\nconst config = require('config-lite')(__dirname)\n\nmongoose.connect(config.mongodb, { useMongoClient: true })\nmongoose.Promise = global.Promise\nvar db = mongoose.connection\ndb.on('error', console.error.bind(console, 'Connect error'))\ndb.once('open', function () {\n  console.log('Mongodb started successfully')\n})\n\nvar userSchema = mongoose.Schema({\n  phone: String,\n  password: String,\n  recheck: String,\n  token: String,\n  create_time: Date\n})\n\nvar model = {\n  User: mongoose.model('User', userSchema)\n}\n\nmodule.exports = model\n"]}